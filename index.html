<!DOCTYPE html>
<html lang="ja">
<head>
    <title>NicoVideoClone</title>

    <style type="text/css">
        <!--
            #playerArea {
                position: absolute;
                top: 5%;
                left: 25%;
                margin: 0;
                padding: 0;
            }
            #video-file {
                width: 640px;
                height 360px;
            }
            #comment-1 {
                position: absolute;
                top: 120px;
                left: 320px;
                color: white;
            }
            #playButton {
                position: relative;
                bottom: 0%;
                left: 50%;
            }
        -->
    </style>
</head>

<body>
    <script type="text/javascript">
        window.onload = function () {
            // video要素を変数に格納
            videoFile = document.getElementById("video-file");
            // 再生ボタン初期設定
            playButton = document.getElementById("playButton");
            isPlaying = false;
            playButtonText = "▷";
            playButton.value = playButtonText;
            // 再生時にコメントを動かす
            videoFile.addEventListener("timeupdate", function() {
                var comment_x_position = parseInt(window.getComputedStyle(document.getElementById("comment-1")).getPropertyValue('left'));
                comment_x_position = (comment_x_position - 10) + "px"; 
                document.getElementById("comment-1").style.left = comment_x_position 
            })

        }
        // 再生ボタン押下
        function playVideo(){
            if (!isPlaying) {
                videoFile.play();
                document.getElementById("playButton").value = "II";
                isPlaying = true;
            } else {
                videoFile.pause();
                document.getElementById("playButton").value = "▷";
                isPlaying = false;
            }
        }
    </script>

    <div id = "playerArea">
        <video id="video-file" src="video.mp4"></video>
        <div id ="comment-data">
            <div id ="comment-1">ニコニコネット超会議</div>
        </div>
        <input id="playButton" type="button" value="再生" onClick=playVideo() />
    </div>
</body>


</html>
